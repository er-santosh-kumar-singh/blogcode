<div class="container">
    <h1 class="mt-3">Blog post list</h1>

    <div class="d-flex justify-content-end mt-3">
        <a class="btn btn-sm btn-primary" [routerLink]="['/admin/blogposts/add']">Add Blog Post</a>
    </div>

    <div *ngIf="isLoading" class="loading-spinner">
        Loading...
    </div>
    <div *ngIf="!isLoading" class="mt-3">
        <ng-container>

            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>Title</th>
                        <th>Short Description</th>
                        <th>Is Visible</th>
                        <th>Category</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let blogPost of model">
                        <td>{{blogPost.title}}</td>
                        <td>{{blogPost.shortDescription}}</td>
                        <td>{{blogPost.isVisible}}</td>                        
                        <td>
                            <ng-container *ngIf="blogPost.categories.length>0">
                                <ng-container *ngFor="let category of blogPost.categories">
                                    <span class="badge text-bg-secondary m-2">
                                        {{category.name}}
                                    </span>
                                </ng-container>

                            </ng-container>

                            <ng-container *ngIf="!blogPost.categories || blogPost.categories.length===0">
                                <span class="badge text-bg-warning">
                                    NA
                                </span>
                            </ng-container>

                        </td>
                        <td>
                            <a class="btn btn-primary" [routerLink]="['/admin/blogposts/edit', blogPost.id]"><i class="bi bi-pencil-fill"></i>Edit</a>
                        </td>

                    </tr>
                </tbody>
            </table>


        </ng-container>
    </div>
</div>